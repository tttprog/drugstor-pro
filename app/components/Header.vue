<template>
  <header class="z-20 border-b bg-background/90 backdrop-blur">
    <UiContainer class="flex h-16 items-center justify-between lg:h-20">
      <div class="flex items-center gap-10">
        <NuxtLink to="#" class="flex items-center gap-3">
          <span
            class="font-semibold lg:text-lg bg-gradient-to-r from-red-500 via-green-500 to-blue-500 bg-[length:600%_600%] bg-clip-text text-transparent animate-gradient">ุขููุงู
            ุดุงูพ ูุงุฑู ุงู</span>
        </NuxtLink>
        <UiNavigationMenu as="nav" class="hidden items-center justify-start gap-8 lg:flex">
          <UiNavigationMenuList class="gap-2">
            <UiNavigationMenuItem>
              <UiNavigationMenuLink as-child>
                <UiButton to="/" variant="ghost" size="sm"> ุฎุงูู</UiButton>
              </UiNavigationMenuLink>
            </UiNavigationMenuItem>
            <template v-for="(data, link, i) in links" :key="i">
              <UiNavigationMenuItem>
                <UiNavigationMenuTrigger class="h-9 px-3 text-sm capitalize" :title="link" />
                <UiNavigationMenuContent>
                  <div class="grid grid-cols-1 gap-5 p-4 lg:w-96 lg:grid-cols-1 xl:w-96 xl:grid-cols-2" dir="rtl">
                    <div v-for="(item, cat, index) in data" :key="`${cat}-${index}`">
                      <p class="mb-5 text-sm font-semibold text-primary capitalize">{{ cat }}</p>
                      <ul class="flex w-full flex-col gap-2">
                        <li v-for="(child, k) in item" :key="k">
                          <UiNavigationMenuLink class="data-active:bg-muted/80" as-child>
                            <NuxtLink :to="child.href"
                              class="flex flex-row gap-4 rounded-md p-3 transition hover:bg-muted/80 focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:outline-none">
                              <Icon :name="child.icon" class="mt-px h-5 w-5 shrink-0 text-primary" />
                              <div class="flex flex-col gap-1.5 leading-none">
                                <p class="text-sm font-semibold">{{ child.name }}</p>
                                <p class="text-sm text-muted-foreground" v-html="child.description" />
                              </div>
                            </NuxtLink>
                          </UiNavigationMenuLink>
                        </li>
                      </ul>
                    </div>
                  </div>
                </UiNavigationMenuContent>
              </UiNavigationMenuItem>
            </template>
            <UiNavigationMenuItem>
              <UiNavigationMenuLink as-child>
                <UiButton to="#" variant="ghost" size="sm">ุฏุฑุจุงุฑู ูุง</UiButton>
              </UiNavigationMenuLink>
            </UiNavigationMenuItem>
            <UiNavigationMenuItem>
              <UiNavigationMenuLink as-child>
                <UiButton to="#" variant="ghost" size="sm">ุชูุงุณ ุจุง ูุง</UiButton>
              </UiNavigationMenuLink>
            </UiNavigationMenuItem>
          </UiNavigationMenuList>
        </UiNavigationMenu>
      </div>
      <div class="lg:hidden">
        <UiSheet>
          <UiSheetTrigger as-child>
            <UiButton variant="ghost" size="icon-sm">
              <Icon name="lucide:menu" class="h-5 w-5" />
            </UiButton>
            <UiSheetContent class="w-[90%] p-0">
              <template #content>
                <UiSheetTitle class="sr-only" title="Mobile menu" />
                <UiSheetDescription class="sr-only" description="Mobile menu" />
                <UiSheetX class="z-20" />

                <UiScrollArea class="h-full p-5">
                  <div class="flex flex-col gap-2">
                    <UiButton variant="ghost" class="justify-start text-base" to="/">ุฎุงูู</UiButton>
                    <template v-for="(data, link, i) in links" :key="i">
                      <UiCollapsible>
                        <UiCollapsibleTrigger as-child>
                          <UiButton variant="ghost"
                            class="w-full justify-start text-base capitalize *:data-[state=open]:-rotate-180" to="#">{{
                              link }}
                            <Icon name="lucide:chevron-down" class="ml-auto size-4 transition" />
                          </UiButton>
                        </UiCollapsibleTrigger>
                        <UiCollapsibleContent
                          class="data-[state=closed]:animate-none data-[state=open]:p-3 data-[state=open]:pt-0">
                          <div v-for="(item, cat, index) in data" :key="`${cat}-${index}`" class="mt-5">
                            <p class="mb-5 text-sm font-semibold text-primary capitalize">
                              {{ cat }}
                            </p>
                            <ul class="flex w-full flex-col gap-2">
                              <li v-for="(child, k) in item" :key="k">
                                <UiNavigationMenuLink class="data-active:bg-muted/80" as-child>
                                  <NuxtLink :to="child.href"
                                    class="flex flex-row gap-4 rounded-md p-3 transition hover:bg-muted/80 focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:outline-none">
                                    <Icon :name="child.icon" class="mt-px h-5 w-5 shrink-0 text-primary" />
                                    <div class="flex flex-col gap-1.5 leading-none">
                                      <p class="text-sm font-semibold">{{ child.name }}</p>
                                    </div>
                                  </NuxtLink>
                                </UiNavigationMenuLink>
                              </li>
                            </ul>
                          </div>
                        </UiCollapsibleContent>
                      </UiCollapsible>
                    </template>
                    <UiButton variant="ghost" class="justify-start text-base" to="#">ุฏุฑุจุงุฑู ูุง</UiButton>
                    <UiButton variant="ghost" class="justify-start text-base" to="#">ุชูุงุณ ุจุง ูุง</UiButton>

                    <UiGradientDivider class="my-5" />

                    <ul class="grid grid-cols-2 gap-x-3 gap-y-5 px-4">
                      <li v-for="(m, j) in miniLinks" :key="j">
                        <NuxtLink class="py-2" :to="m.href">{{ m.name }}</NuxtLink>
                      </li>
                    </ul>
                    <UiGradientDivider class="my-5" />
                    <UiButton to="#" variant="ghost" size="sm">ูุฑูุฏ </UiButton>
                    <UiButton class="relative overflow-hidden" size="lg" variant="outline">
                      ุซุจุช ูุงู
                      <UiBorderBeam :size="40" :initial-offset="20"
                        class="from-transparent via-yellow-500 to-transparent" :transition="{
                          type: 'spring',
                          stiffness: 60,
                          damping: 20,
                        }" />
                    </UiButton>

                  </div>
                </UiScrollArea>
                <UiSelect default-value="1" v-model="$colorMode.preference">
                  <UiSelectTrigger class="w-1/2 mx-auto">
                    <UiSelectValue />
                  </UiSelectTrigger>
                  <UiSelectContent>
                    <UiSelectItem v-for="(item, i) in colorModeOptions" :key="i" :value="item?.value">
                      {{
                        item.label
                      }}</UiSelectItem>
                  </UiSelectContent>
                </UiSelect>
              </template>
            </UiSheetContent>
          </UiSheetTrigger>
        </UiSheet>
      </div>
      <div class="hidden items-center gap-3 lg:flex">
        <UiButton to="#" variant="ghost" size="sm">ูุฑูุฏ </UiButton>
        <UiButton class="relative overflow-hidden" size="lg" variant="outline">
          ุซุจุช ูุงู
          <UiBorderBeam :size="40" :initial-offset="20" class="from-transparent via-yellow-500 to-transparent"
            :transition="{
              type: 'spring',
              stiffness: 60,
              damping: 20,
            }" />
        </UiButton>
        <UiSelect default-value="1" v-model="$colorMode.preference">
          <UiSelectTrigger>
            <UiSelectValue />
          </UiSelectTrigger>
          <UiSelectContent>
            <UiSelectItem v-for="(item, i) in colorModeOptions" :key="i" :value="item?.value">
              {{
                item.label
              }}</UiSelectItem>
          </UiSelectContent>
        </UiSelect>
      </div>
    </UiContainer>
  </header>

</template>

<script lang="ts" setup>
const miniLinks = [
  { name: "ูุญุตููุงุช ูุญุจูุจ", href: "#" },
  { name: "ุงุฎุจุงุฑ ู ููุงูุงุช", href: "#" },
  { name: "ูุฑุตุชโูุง ุดุบู", href: "#" },
  { name: "ููุงูู ู ููุฑุฑุงุช", href: "#" },
  { name: "ูพุดุชุจุงู ูุดุชุฑุงู", href: "#" },
  { name: "ุชูุงุณ ุจุง ูุง", href: "#" },
  { name: "ููุดู ุณุงุช", href: "#" },
  { name: "ุชูุธูุงุช ฺฉูฺฉโูุง", href: "#" },
];
const links = {
  "ุฏุณุชู ุจูุฏ ูุง": {
    "ุตูุฑุช": [
      {
        name: "ฺฉุฑู ูุฑุทูุจโฺฉููุฏู ุตูุฑุช",
        description: "ุญูุธ ุฑุทูุจุช ูพูุณุช ู ุฌููฺฏุฑ ุงุฒ ุฎุดฺฉ ู ฺู ู ฺุฑูฺฉ.",
        icon: "lucide:droplet",
        href: "#",
      },
      {
        name: "ูุงุณฺฉ ุตูุฑุช",
        description: "ูพุงฺฉุณุงุฒ ุนูู ู ุชุบุฐู ูพูุณุช ุจุง ูุงุณฺฉโูุง ุทุจุน ู ุชุฎุตุต.",
        icon: "lucide:mask",
        href: "#",
      },
      {
        name: "ุถุฏ ุขูุชุงุจ",
        description: "ูุญุงูุธุช ูพูุณุช ุฏุฑ ุจุฑุงุจุฑ ุงุดุนูโูุง UVA ู UVB.",
        icon: "lucide:sun",
        href: "#",
      },
      {
        name: "ุณุฑูโูุง ุชุฎุตุต",
        description: "ุชููุช ูพูุณุช ู ุฏุฑูุงู ูุดฺฉูุงุช ุฎุงุต ูุงููุฏ ูฺฉ ู ุฌูุด.",
        icon: "lucide:flask",
        href: "#",
      },
    ],
    "ุจุฏู": [
      {
        name: "ููุณูู ุจุฏู",
        description: "ูุฑุทูุจโฺฉููุฏู ู ุชุบุฐูโฺฉููุฏู ูพูุณุช ุจุฏู ุจุฑุง ูุฑู ู ูุทุงูุช.",
        icon: "lucide:water",
        href: "#",
      },
      {
        name: "ฺู ุดุณุชุดู ุจุฏู",
        description: "ูพุงฺฉุณุงุฒ ู ุญูุธ ุณูุงูุช ูพูุณุช ุจุง ููุงุฏ ููุงู.",
        icon: "lucide:bath",
        href: "#",
      },
      {
        name: "ุถุฏ ุชุนุฑู",
        description: "ุญูุธ ุทุฑุงูุช ู ุฌููฺฏุฑ ุงุฒ ุจู ูุงูุทุจูุน ุจุฏู.",
        icon: "lucide:umbrella",
        href: "#",
      },
      {
        name: "ฺฉุฑู ุฏุณุช ู ูพุง",
        description: "ูุฑุงูุจุช ู ุชุฑูู ูพูุณุช ุฏุณุช ู ูพุง ุจุง ูุฑูููุงุณูู ูฺู.",
        icon: "lucide:hand",
        href: "#",
      },
    ],
  },
  "ุจุฑูุฏ ูุง": {
    "ุขููุงู": [
      {
        name: "ุจูุดู",
        description: "ูุญุตููุงุช ูพูุณุช ู ุจูุฏุงุดุช ุจุง ุงุณุชุงูุฏุงุฑุฏูุง ุงุฑููพุง.",
        icon: "lucide:tool",
        href: "#",
      },
      {
        name: "ูุฑุณุฏุณ ุงุณูพุง",
        description: "ูุญุตููุงุช ูุฑุงูุจุช ูพูุณุช ู ูฺฉููโูุง ุฏุฑูุงู ุจุง ฺฉูุช ุจุงูุง.",
        icon: "lucide:truck",
        href: "#",
      },
      {
        name: "ุฒููุณ ููุณ",
        description: "ุชุฌูุฒุงุช ู ูุญุตููุงุช ุจูุฏุงุดุช ู ุฏุฑูุงู ูุนุชุจุฑ.",
        icon: "lucide:settings",
        href: "#",
      },
      {
        name: "ุขุฏุฏุงุณ ุงุณูพุง",
        description: "ูุญุตููุงุช ูุฑุฒุด ู ูฺฉููโูุง ุณูุงูุช ู ูุฑุงูุจุช ูพูุณุช.",
        icon: "lucide:shoe",
        href: "#",
      },
    ],
    "ฺฉุงูุงุฏุง": [
      {
        name: "ููุฑุซ ูุณ ููุณ",
        description: "ูฺฉููโูุง ุณูุงูุช ู ูุฑุงูุจุช ูพูุณุช ุจุง ฺฉูุช ฺฉุงูุงุฏุง.",
        icon: "lucide:map",
        href: "#",
      },
      {
        name: "ูููุชุฑุงู ุจูุช",
        description: "ูุญุตููุงุช ูุฑุงูุจุช ูพูุณุช ุทุจุน ู ุงุฑฺฏุงูฺฉ.",
        icon: "lucide:home",
        href: "#",
      },
      {
        name: "ฺฉุงูุงุฏุงุฑ ููุณ",
        description: "ุชุฌูุฒุงุช ู ูุญุตููุงุช ุฏุฑูุงู ู ูุฑุงูุจุช ูุนุชุจุฑ.",
        icon: "lucide:airplay",
        href: "#",
      },
      {
        name: "ูุงุจุฑุงุฏูุฑ ููุฏุฒ ุณูุงูุช",
        description: "ูฺฉููโูุง ู ูุญุตููุงุช ุชุบุฐูโุง ุจุฑุง ุณูุงูุช ูพูุณุช ู ุจุฏู.",
        icon: "lucide:coffee",
        href: "#",
      },
    ],
  },
};


const colorModeOptions = [
  { label: "ุฑูุฒ โ๏ธ", value: "light" },
  { label: "ุดุจ ๐", value: "dark" },
]
</script>
